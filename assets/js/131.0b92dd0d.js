(window.webpackJsonp=window.webpackJsonp||[]).push([[131],{1209:function(t,a,s){"use strict";s.r(a);var n=s(68),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("相信作为一名前端，大家会碰到要替换ui的需求。如果组件库变动不大，那么可以直接全局替换相应的前缀。但是如果变动很大呢，可能会考虑纯手动替换。")]),t._v(" "),s("p",[t._v("不过纯手动替换会有以下几点问题：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("1. 大量重复性的工作\n2. 容易遗漏替换\n")])])]),s("p",[t._v("因此我开发了一个小工具"),s("a",{attrs:{href:"https://github.com/2heal1/free-ui-tool",target:"_blank",rel:"noopener noreferrer"}},[t._v("free-ui-tool"),s("OutboundLink")],1),t._v(" ,他可以根据配置快速替换ui库，并会输出相应的log文件，用以记录哪些部分需要手动修改。\n这时，替换组件就成纯手动，变成了 自动+手动。")]),t._v(" "),s("h2",{attrs:{id:"功能简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#功能简介"}},[t._v("#")]),t._v(" 功能简介")]),t._v(" "),s("p",[t._v("可以快速对 ui 库进行替换，替换存在两种模式：")]),t._v(" "),s("ul",[s("li",[t._v("normal（前缀替换）")]),t._v(" "),s("li",[t._v("detail（属性、事件替换）")])]),t._v(" "),s("h2",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("yarn add global free"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ui"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("tool\nnpm i free"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ui"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("tool "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("g\n")])])]),s("h2",{attrs:{id:"快速使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#快速使用"}},[t._v("#")]),t._v(" 快速使用")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("free-ui migrate")]),t._v(" 迁移替换 UI")]),t._v(" "),s("li",[s("code",[t._v("free-ui config [option]")]),t._v(" 获取配置")])]),t._v(" "),s("h3",{attrs:{id:"简单替换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#简单替换"}},[t._v("#")]),t._v(" 简单替换")]),t._v(" "),s("p",[t._v("如果只想替换ui前缀，可先通过"),s("code",[t._v("free-ui config")]),t._v("获取配置，然后直接在terminal 输入"),s("code",[t._v("free-ui-migrate")]),t._v("\n选择"),s("code",[t._v("normal（前缀替换）")]),t._v("，并输入想要替换的ui前缀 例如"),s("code",[t._v("haha")]),t._v(" "),s("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bcae2e0b2b0347c8808154642688719e~tplv-k3u1fbpfcp-zoom-1.image",alt:"normal-demo"}})]),t._v(" "),s("p",[t._v("会有以下效果：\n"),s("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ecdf3fc782ec47e299609170c153c63a~tplv-k3u1fbpfcp-zoom-1.image",alt:"normal-result"}})]),t._v(" "),s("h3",{attrs:{id:"复杂替换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#复杂替换"}},[t._v("#")]),t._v(" 复杂替换")]),t._v(" "),s("p",[t._v("如果需要进行前缀、属性、事件等替换，可使用"),s("code",[t._v("detail")]),t._v("模式")]),t._v(" "),s("p",[t._v("先通过"),s("code",[t._v("free-ui config")]),t._v("获取配置，并还可以通过"),s("code",[t._v("free-ui config -c")]),t._v("获取组件配置数据结构，"),s("code",[t._v("free-ui config -c")]),t._v("获取具体组件配置")]),t._v(" "),s("p",[t._v("在使用前，进行组件差异调研，并将相应的差异写入配置文件")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("iview组件")]),t._v(" "),s("th",[t._v("element-ui组件")]),t._v(" "),s("th",[t._v("属性差异")]),t._v(" "),s("th",[t._v("slot差异")]),t._v(" "),s("th",[t._v("事件差异")]),t._v(" "),s("th",[t._v("方法差异")]),t._v(" "),s("th",[t._v("影响")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("i-cascader")]),t._v(" "),s("td",[t._v("el-cascad")]),t._v(" "),s("td",[t._v("数据源："),s("br"),t._v("el-cascader：options"),s("br"),t._v("i-cascader：data"),s("br"),s("br"),t._v("次级菜单展开方式："),s("br"),t._v("el-cascader ：expandTrigger"),s("br"),t._v("i-cascader ：trigger"),s("br"),s("br"),t._v("是否严格的遵守父子节点不互相关联:"),s("br"),t._v("el-cascader ：checkStrictly"),s("br"),t._v("i-cascader ：change-on-select"),s("br"),s("br"),t._v("size（尺寸）："),s("br"),t._v("el-time-picker 没有大，只有中等：size:medium"),s("br"),s("br"),t._v("i-time-picker 尺寸属性（大）：size:large"),s("br"),s("br"),t._v("el-cascader 无 render-format 属性")]),t._v(" "),s("td",[t._v("-")]),t._v(" "),s("td",[t._v("onChange => change"),s("br"),t._v("且回调参数不一样")]),t._v(" "),s("td",[t._v("-")]),t._v(" "),s("td",[t._v("-")]),t._v(" "),s("td",[t._v("如果使用render-format、change事件，则记录所在文件位置，手动修改")])])])]),t._v(" "),s("p",[t._v("配置完成后，在terminal上输入"),s("code",[t._v("free-ui migrate")]),t._v("\n设置相应参数，便可完成替换。\n"),s("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4d6cab5ea92d4598855b2f0074615274~tplv-k3u1fbpfcp-zoom-1.image",alt:"detail-demo"}})]),t._v(" "),s("p",[t._v("效果如下：\n"),s("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9fb0c8858b204edf9e8a1814894a7644~tplv-k3u1fbpfcp-zoom-1.image",alt:"detail-result"}})]),t._v(" "),s("p",[t._v("以下是一个简单的配置文件：")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  dir"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"src"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//需要匹配的文件扩展名")]),t._v("\n    extension"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vue"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"js"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//需要进行匹配的目录")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//yarn 删除的安装包")]),t._v("\n    removePackage"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//yarn 需要安装的安装包")]),t._v("\n    installPackage"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//npm 扩展参数")]),t._v("\n    npmOption"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//npm 源")]),t._v("\n    registry"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://registry.npmjs.org/"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  style"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//需要匹配的文件扩展名")]),t._v("\n    extension"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"css"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"less"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"scss"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 可选 normal detail 两种模式，普通模式只适用于修改tag前缀，detail模式用于替换组件内属性、slot、events")]),t._v("\n  mode"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"normal"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// mode:normal 下启用")]),t._v("\n  tag"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    old"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"i-"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    replece"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"q-"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 组件替换规则，mode:detail 下启用")]),t._v("\n  components"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"i-cascader"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      patternRule"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 目标tag")]),t._v("\n        tag"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"el-cascader"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        logTiming"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"render-format"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"on-change"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        attribute"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要替换的组件属性名")]),t._v("\n          replacedNames"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"options"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            trigger"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"expandTrigger"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"change-on-select"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"checkStrictly"')]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要替换的组件属性值")]),t._v("\n          replacedValue"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// eg: size:large => size:medium")]),t._v("\n            size"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              large"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"medium"')]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要移除的属性")]),t._v("\n          removed"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 什么情况下 需要记录文件位置，方便后续手动修改")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        events"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"注意"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#注意"}},[t._v("#")]),t._v(" 注意")]),t._v(" "),s("p",[t._v("无论什么模式，都会输出"),s("code",[t._v("logger.txt")]),t._v("文件\n该文件用以记录详细模式下的组件logTiming中记录的字段")]),t._v(" "),s("h2",{attrs:{id:"暂未支持"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#暂未支持"}},[t._v("#")]),t._v(" 暂未支持")]),t._v(" "),s("ul",[s("li",[t._v("slot、组件方法替换")]),t._v(" "),s("li",[t._v("jsx render 写法")])]),t._v(" "),s("h2",{attrs:{id:"npm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#npm"}},[t._v("#")]),t._v(" NPM")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://www.npmjs.com/package/free-ui-tool",target:"_blank",rel:"noopener noreferrer"}},[t._v("FREE-UI-TOOL"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"git"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git"}},[t._v("#")]),t._v(" Git")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/2heal1/free-ui-tool",target:"_blank",rel:"noopener noreferrer"}},[t._v("FREE-UI-TOOL"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"相关组件配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#相关组件配置"}},[t._v("#")]),t._v(" 相关组件配置")]),t._v(" "),s("h3",{attrs:{id:"iview-element-ui-组件配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#iview-element-ui-组件配置"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://github.com/2heal1/component-config/blob/main/iview-element/index.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("iview => element ui 组件配置"),s("OutboundLink")],1)]),t._v(" "),s("ClientOnly",[s("comment")],1)],1)}),[],!1,null,null,null);a.default=e.exports}}]);