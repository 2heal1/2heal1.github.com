<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>BFC | Heal Blog</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="Oops!">
    
    <link rel="preload" href="/assets/css/0.styles.9aec748c.css" as="style"><link rel="preload" href="/assets/js/app.251be91f.js" as="script"><link rel="preload" href="/assets/js/3.c83a7086.js" as="script"><link rel="preload" href="/assets/js/10.9b4b1c5b.js" as="script"><link rel="prefetch" href="/assets/js/100.71d07cef.js"><link rel="prefetch" href="/assets/js/101.179111e2.js"><link rel="prefetch" href="/assets/js/102.fb2b88f1.js"><link rel="prefetch" href="/assets/js/103.7568d2c9.js"><link rel="prefetch" href="/assets/js/104.e3af40c6.js"><link rel="prefetch" href="/assets/js/105.02947bd1.js"><link rel="prefetch" href="/assets/js/106.215fa471.js"><link rel="prefetch" href="/assets/js/107.347020e8.js"><link rel="prefetch" href="/assets/js/108.a74a9d5c.js"><link rel="prefetch" href="/assets/js/109.588efe56.js"><link rel="prefetch" href="/assets/js/11.33d20895.js"><link rel="prefetch" href="/assets/js/110.6bf0cd15.js"><link rel="prefetch" href="/assets/js/111.56872705.js"><link rel="prefetch" href="/assets/js/112.79a49d68.js"><link rel="prefetch" href="/assets/js/113.d2d148ce.js"><link rel="prefetch" href="/assets/js/114.7b4680c2.js"><link rel="prefetch" href="/assets/js/115.456a079c.js"><link rel="prefetch" href="/assets/js/116.a69940ce.js"><link rel="prefetch" href="/assets/js/117.358ff765.js"><link rel="prefetch" href="/assets/js/118.e0e777c3.js"><link rel="prefetch" href="/assets/js/119.0534aeda.js"><link rel="prefetch" href="/assets/js/12.b0af3da4.js"><link rel="prefetch" href="/assets/js/120.87d15838.js"><link rel="prefetch" href="/assets/js/121.dea763c1.js"><link rel="prefetch" href="/assets/js/122.c9084785.js"><link rel="prefetch" href="/assets/js/123.0233e04d.js"><link rel="prefetch" href="/assets/js/124.687e7d34.js"><link rel="prefetch" href="/assets/js/125.48b00fdf.js"><link rel="prefetch" href="/assets/js/126.1c866d56.js"><link rel="prefetch" href="/assets/js/127.9b995b2b.js"><link rel="prefetch" href="/assets/js/128.1e15c696.js"><link rel="prefetch" href="/assets/js/129.f6f7e357.js"><link rel="prefetch" href="/assets/js/13.d5dc2fab.js"><link rel="prefetch" href="/assets/js/130.dee8ae7d.js"><link rel="prefetch" href="/assets/js/131.0b92dd0d.js"><link rel="prefetch" href="/assets/js/132.7703318d.js"><link rel="prefetch" href="/assets/js/133.0af77430.js"><link rel="prefetch" href="/assets/js/134.e31ad7f7.js"><link rel="prefetch" href="/assets/js/14.fff65a91.js"><link rel="prefetch" href="/assets/js/15.9f7842fa.js"><link rel="prefetch" href="/assets/js/16.6a5ec5c5.js"><link rel="prefetch" href="/assets/js/17.18aef6b8.js"><link rel="prefetch" href="/assets/js/18.6c9daf76.js"><link rel="prefetch" href="/assets/js/19.037e3605.js"><link rel="prefetch" href="/assets/js/2.192bc844.js"><link rel="prefetch" href="/assets/js/20.7ab09a07.js"><link rel="prefetch" href="/assets/js/21.c71d3cb4.js"><link rel="prefetch" href="/assets/js/22.f21171e1.js"><link rel="prefetch" href="/assets/js/23.704c4922.js"><link rel="prefetch" href="/assets/js/24.fe8d0514.js"><link rel="prefetch" href="/assets/js/25.57206a35.js"><link rel="prefetch" href="/assets/js/26.8c3c29a3.js"><link rel="prefetch" href="/assets/js/27.5cd06428.js"><link rel="prefetch" href="/assets/js/28.7e74b732.js"><link rel="prefetch" href="/assets/js/29.6b1b7028.js"><link rel="prefetch" href="/assets/js/30.e999d743.js"><link rel="prefetch" href="/assets/js/31.9e30de7f.js"><link rel="prefetch" href="/assets/js/32.274a7c8f.js"><link rel="prefetch" href="/assets/js/33.773cd7fd.js"><link rel="prefetch" href="/assets/js/34.c872d204.js"><link rel="prefetch" href="/assets/js/35.ac4979f0.js"><link rel="prefetch" href="/assets/js/36.0d52145c.js"><link rel="prefetch" href="/assets/js/37.e6ae99e4.js"><link rel="prefetch" href="/assets/js/38.cc5eb353.js"><link rel="prefetch" href="/assets/js/39.7860f77a.js"><link rel="prefetch" href="/assets/js/4.c5d0d5d1.js"><link rel="prefetch" href="/assets/js/40.9598c31b.js"><link rel="prefetch" href="/assets/js/41.6dba571a.js"><link rel="prefetch" href="/assets/js/42.aaf0a3b1.js"><link rel="prefetch" href="/assets/js/43.75d56bc5.js"><link rel="prefetch" href="/assets/js/44.1806bd92.js"><link rel="prefetch" href="/assets/js/45.fb488eb4.js"><link rel="prefetch" href="/assets/js/46.9719aeab.js"><link rel="prefetch" href="/assets/js/47.5d1f7ce6.js"><link rel="prefetch" href="/assets/js/48.40748c60.js"><link rel="prefetch" href="/assets/js/49.13f4aa8e.js"><link rel="prefetch" href="/assets/js/5.2a51231d.js"><link rel="prefetch" href="/assets/js/50.77794051.js"><link rel="prefetch" href="/assets/js/51.788e8927.js"><link rel="prefetch" href="/assets/js/52.e19f54b5.js"><link rel="prefetch" href="/assets/js/53.34a7496b.js"><link rel="prefetch" href="/assets/js/54.20eb5f70.js"><link rel="prefetch" href="/assets/js/55.c2cefb16.js"><link rel="prefetch" href="/assets/js/56.1c7afe9b.js"><link rel="prefetch" href="/assets/js/57.f47af290.js"><link rel="prefetch" href="/assets/js/58.1360df82.js"><link rel="prefetch" href="/assets/js/59.284dcf4b.js"><link rel="prefetch" href="/assets/js/6.f256a2e9.js"><link rel="prefetch" href="/assets/js/60.be120a90.js"><link rel="prefetch" href="/assets/js/61.1c25bc60.js"><link rel="prefetch" href="/assets/js/62.b1efa100.js"><link rel="prefetch" href="/assets/js/63.daebacb7.js"><link rel="prefetch" href="/assets/js/64.daaa059a.js"><link rel="prefetch" href="/assets/js/65.39572620.js"><link rel="prefetch" href="/assets/js/66.65601522.js"><link rel="prefetch" href="/assets/js/67.784af14b.js"><link rel="prefetch" href="/assets/js/68.b6359956.js"><link rel="prefetch" href="/assets/js/69.4bad2540.js"><link rel="prefetch" href="/assets/js/7.68f294b2.js"><link rel="prefetch" href="/assets/js/70.a97b3aa3.js"><link rel="prefetch" href="/assets/js/71.9687c68d.js"><link rel="prefetch" href="/assets/js/72.651f75d2.js"><link rel="prefetch" href="/assets/js/73.63d00407.js"><link rel="prefetch" href="/assets/js/74.ccacf2a6.js"><link rel="prefetch" href="/assets/js/75.cf1a3e61.js"><link rel="prefetch" href="/assets/js/76.7496d985.js"><link rel="prefetch" href="/assets/js/77.7085151b.js"><link rel="prefetch" href="/assets/js/78.3bf03409.js"><link rel="prefetch" href="/assets/js/79.b9838f57.js"><link rel="prefetch" href="/assets/js/8.aa24b4c3.js"><link rel="prefetch" href="/assets/js/80.a2289481.js"><link rel="prefetch" href="/assets/js/81.934c5bb1.js"><link rel="prefetch" href="/assets/js/82.6e3524a5.js"><link rel="prefetch" href="/assets/js/83.44d532e1.js"><link rel="prefetch" href="/assets/js/84.afea3ab4.js"><link rel="prefetch" href="/assets/js/85.113b5e96.js"><link rel="prefetch" href="/assets/js/86.2b2e53a7.js"><link rel="prefetch" href="/assets/js/87.d6dfa7c3.js"><link rel="prefetch" href="/assets/js/88.5f01c603.js"><link rel="prefetch" href="/assets/js/89.b37d4a1e.js"><link rel="prefetch" href="/assets/js/9.67cdab75.js"><link rel="prefetch" href="/assets/js/90.0c9617d2.js"><link rel="prefetch" href="/assets/js/91.bcc5a91b.js"><link rel="prefetch" href="/assets/js/92.08ccb932.js"><link rel="prefetch" href="/assets/js/93.f43d0923.js"><link rel="prefetch" href="/assets/js/94.40df7cf8.js"><link rel="prefetch" href="/assets/js/95.9b4a0dca.js"><link rel="prefetch" href="/assets/js/96.3c4a168b.js"><link rel="prefetch" href="/assets/js/97.d14f2da0.js"><link rel="prefetch" href="/assets/js/98.9cf6016e.js"><link rel="prefetch" href="/assets/js/99.980a7b6e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9aec748c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Heal Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/about.html" class="sidebar-link">介绍</a></li><li><section class="sidebar-group depth-0"><a href="/work/" class="sidebar-heading clickable"><span>工作</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/work/入职.html" class="sidebar-link">入职</a></li><li><a href="/work/nest里的单元测试.html" class="sidebar-link">nest里的单元测试</a></li><li><a href="/work/single-spa.html" class="sidebar-link">single-spa浅析</a></li><li><a href="/work/qiankun特性源码分析.html" class="sidebar-link">qiankun特性分析</a></li><li><a href="/work/markdown转ppt.html" class="sidebar-link">Markdowm转ppt</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/tools/" class="sidebar-heading clickable"><span>工具</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/tools/约定式路由插件.html" class="sidebar-link">约定式路由插件</a></li><li><a href="/tools/组件替换工具.html" class="sidebar-link">组件替换工具</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/css/" class="sidebar-heading clickable router-link-active open"><span>css</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/css/bfc.html" aria-current="page" class="active sidebar-link">BFC</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/css/bfc.html#visual-formatting-model" class="sidebar-link">Visual formatting model</a></li><li class="sidebar-sub-header"><a href="/css/bfc.html#box-model" class="sidebar-link">Box Model</a></li><li class="sidebar-sub-header"><a href="/css/bfc.html#三种常见定位方案" class="sidebar-link">三种常见定位方案</a></li><li class="sidebar-sub-header"><a href="/css/bfc.html#边距折叠" class="sidebar-link">边距折叠</a></li><li class="sidebar-sub-header"><a href="/css/bfc.html#高度塌陷" class="sidebar-link">高度塌陷</a></li><li class="sidebar-sub-header"><a href="/css/bfc.html#两栏布局" class="sidebar-link">两栏布局</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/algorithm/" class="sidebar-heading clickable"><span>LeetCode题解</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/algorithm/2020-05/" class="sidebar-heading clickable open"><span>2020-05</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/algorithm/2020-05/2020-05-11.html" class="sidebar-link">2020/5/11 No.50 Pow(x,n)</a></li><li><a href="/algorithm/2020-05/2020-05-12.html" class="sidebar-link">2020/5/12 No.155 最小栈</a></li><li><a href="/algorithm/2020-05/2020-05-13.html" class="sidebar-link">2020/5/13 No.102 二叉树的层序遍历</a></li><li><a href="/algorithm/2020-05/2020-05-14.html" class="sidebar-link">2020/5/14 No.136 只出现一次的数字</a></li><li><a href="/algorithm/2020-05/2020-05-15.html" class="sidebar-link">2020/5/15 No.560 和为K的子数组</a></li><li><a href="/algorithm/2020-05/2020-05-16.html" class="sidebar-link">2020/5/16 No.25 K个一组翻转链表</a></li><li><a href="/algorithm/2020-05/2020-05-17.html" class="sidebar-link">2020/5/17 No.210 课程表II</a></li><li><a href="/algorithm/2020-05/2020-05-18.html" class="sidebar-link">2020/5/18 No.152 乘积最大的子数组</a></li><li><a href="/algorithm/2020-05/2020-05-19.html" class="sidebar-link">2020/5/19 No.680 验证回文字符串 Ⅱ</a></li><li><a href="/algorithm/2020-05/2020-05-20.html" class="sidebar-link">2020/5/20 No.1371 每个元音包含偶数次的最长子字符串</a></li><li><a href="/algorithm/2020-05/2020-05-21.html" class="sidebar-link">2020/5/21 No.5 最长回文子串</a></li><li><a href="/algorithm/2020-05/2020-05-22.html" class="sidebar-link">2020/5/22 No.105 从前序与中序遍历序列构造二叉树</a></li><li><a href="/algorithm/2020-05/2020-05-23.html" class="sidebar-link">2020/5/23 No.76 最小覆盖子串</a></li><li><a href="/algorithm/2020-05/2020-05-24.html" class="sidebar-link">2020/5/24 No.4 寻找两个正序数组的中位数</a></li><li><a href="/algorithm/2020-05/2020-05-25.html" class="sidebar-link">2020/5/25 No.146 LRU缓存机制</a></li><li><a href="/algorithm/2020-05/2020-05-26.html" class="sidebar-link">2020/5/26 No.287 寻找重复数</a></li><li><a href="/algorithm/2020-05/2020-05-27.html" class="sidebar-link">2020/5/27 No.974 和可被 K 整除的子数组</a></li><li><a href="/algorithm/2020-05/2020-05-28.html" class="sidebar-link">2020/5/28 No.394 字符串解码</a></li><li><a href="/algorithm/2020-05/2020-05-29.html" class="sidebar-link">2020/5/29 No.198 打家劫舍</a></li><li><a href="/algorithm/2020-05/2020-05-30.html" class="sidebar-link">2020/5/30 No.84 柱状图中最大的矩形</a></li><li><a href="/algorithm/2020-05/2020-05-31.html" class="sidebar-link">2020/5/31 No.101 对称二叉树</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/algorithm/2020-06/" class="sidebar-heading clickable"><span>2020-06</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/algorithm/2020-07/" class="sidebar-heading clickable"><span>2020-07</span> <span class="arrow right"></span></a> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/interviewCoding/" class="sidebar-heading clickable"><span>面试常见代码题</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/interviewCoding/深拷贝.html" class="sidebar-link">深拷贝</a></li><li><a href="/interviewCoding/数组对象去重.html" class="sidebar-link">数组对象去重</a></li><li><a href="/interviewCoding/背包问题.html" class="sidebar-link">背包问题</a></li><li><a href="/interviewCoding/二分查找.html" class="sidebar-link">二分查找</a></li><li><a href="/interviewCoding/扁平化.html" class="sidebar-link">扁平化</a></li><li><a href="/interviewCoding/柯里化函数.html" class="sidebar-link">柯里化函数</a></li><li><a href="/interviewCoding/排序算法.html" class="sidebar-link">排序算法</a></li><li><a href="/interviewCoding/驼峰下划线转换.html" class="sidebar-link">驼峰下划线转换/下划线转换驼峰</a></li><li><a href="/interviewCoding/序列化与反序列化.html" class="sidebar-link">序列化与反序列化</a></li><li><a href="/interviewCoding/防抖节流.html" class="sidebar-link">防抖节流</a></li><li><a href="/interviewCoding/改变this指向.html" class="sidebar-link">apply/call/bind</a></li><li><a href="/interviewCoding/Object.create.html" class="sidebar-link">Object.create</a></li><li><a href="/interviewCoding/promise.html" class="sidebar-link">promise</a></li><li><a href="/interviewCoding/Promise.all.html" class="sidebar-link">Promise.all</a></li><li><a href="/interviewCoding/promise化ajax.html" class="sidebar-link">promise化ajax</a></li><li><a href="/interviewCoding/reduce.html" class="sidebar-link">reduce</a></li><li><a href="/interviewCoding/发布订阅者模式.html" class="sidebar-link">发布订阅者模式</a></li><li><a href="/interviewCoding/手写Event类.html" class="sidebar-link">手写Event类</a></li><li><a href="/interviewCoding/jsonp.html" class="sidebar-link">jsonp</a></li><li><a href="/interviewCoding/for-of对象.html" class="sidebar-link">for-of对象</a></li><li><a href="/interviewCoding/三栏布局.html" class="sidebar-link">三栏布局</a></li><li><a href="/interviewCoding/new的实现.html" class="sidebar-link">new的实现</a></li><li><a href="/interviewCoding/instanceof原理.html" class="sidebar-link">instanceof原理</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="前置"><a href="#前置" class="header-anchor">#</a> 前置</h1> <p>在正式介绍 BFC 之前，我们先需要了解 Visual formatting model、Box Model 、定位方案的概念</p> <h2 id="visual-formatting-model"><a href="#visual-formatting-model" class="header-anchor">#</a> <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Visual_formatting_model" target="_blank" rel="noopener noreferrer">Visual formatting model<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <p>是用来处理和在视觉媒体上显示文档时使用的计算规则。该模型是 CSS 的基础概念之一。视觉格式化模型会根据 CSS 盒子模型将文档中的元素转换为一个个盒子。</p> <h2 id="box-model"><a href="#box-model" class="header-anchor">#</a> <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Box_Model/Introduction_to_the_CSS_box_model" target="_blank" rel="noopener noreferrer">Box Model<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <p>The CSS box model describes the rectangular boxes that are generated for elements in the document tree and laid out according to the visual formatting model.
盒模型可以简单理解成是 CSS 布局的对象和基本单位。一个页面由多个 Box 组成。并且 Box 也有会不同类型，他是根据元素的类型和 display 的属性来区分。。下面看下有哪些盒子。</p> <ul><li><a href="https://www.w3.org/TR/CSS2/visuren.html#block-boxes" target="_blank" rel="noopener noreferrer">块盒 block-level-box<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> :Block-level elements are those elements of the source document that are formatted visually as blocks (e.g., paragraphs). The following values of the 'display' property make an element block-level: 'block', 'list-item', and 'table'. BFC.</li></ul> <ul><li>display 为 block，list-item 或 table</li> <li>视觉上呈现为块，竖直排列；</li> <li>块级盒参与(块格式化上下文)；</li></ul> <ul><li><a href="https://www.w3.org/TR/CSS2/visuren.html#inline-boxes" target="_blank" rel="noopener noreferrer">行内盒 inline-level-box<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> :Inline-level elements are those elements of the source document that do not form new blocks of content; the content is distributed in lines (e.g., emphasized pieces of text within a paragraph, inline images, etc.). The following values of the 'display' property make an element inline-level: 'inline', 'inline-table', and 'inline-block'. Inline-level elements generate inline-level boxes, which are boxes that participate in an inline formatting context. IFC.</li></ul> <ul><li>display 为 inline，inline-block 或 inline-table</li> <li>视觉上它将内容与其它行内级元素排列为多行；典型的如段落内容，有文本(可以有多种格式譬如着重)，或图片，都是行内级元素；</li> <li>行内级元素生成行内级盒(inline-level boxes)，参与行内格式化上下文(inline formatting context)。同时参与生成行内格式化上下文的行内级盒称为行内盒(inline boxes)。所有 display:inline 的非替换元素生成的盒是行内盒；</li></ul> <ul><li><a href="https://www.w3.org/TR/css-box-3/" target="_blank" rel="noopener noreferrer">run-in-box<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> :css3 中才有，暂不叙述</li></ul> <h2 id="三种常见定位方案"><a href="#三种常见定位方案" class="header-anchor">#</a> 三种常见定位方案</h2> <h3 id="普通流-normal-flow"><a href="#普通流-normal-flow" class="header-anchor">#</a> <a href="https://developer.mozilla.org/en-US/docs/Learn/CSS/CSS_layout/Normal_Flow" target="_blank" rel="noopener noreferrer">普通流 Normal flow<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <ul><li>在普通流中，盒一个接着一个排列;</li> <li>在块级格式化上下文里面， 它们竖着排列；</li> <li>在行内格式化上下文里面， 它们横着排列;</li> <li>当 position 为 static 或 relative，并且 float 为 none 时会触发普通流；</li></ul> <h3 id="浮动-floats"><a href="#浮动-floats" class="header-anchor">#</a> <a href="https://developer.mozilla.org/en-US/docs/Learn/CSS/CSS_layout/Floats" target="_blank" rel="noopener noreferrer">浮动 Floats<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p>在浮动布局中，元素首先按照普通流的位置出现，然后根据浮动的方向尽可能的向左边或右边偏移，其效果与印刷排版中的文本环绕相似。</p> <h3 id="绝对定位-absolute-positioning"><a href="#绝对定位-absolute-positioning" class="header-anchor">#</a> 绝对定位(Absolute positioning)</h3> <p>在绝对定位布局中，元素会整体脱离普通流，因此绝对定位元素不会对其兄弟元素造成影响，而元素具体的位置根据距其最近一个不为 static 的父级元素通过 top, bottom, left, right 定位</p> <h1 id="定义"><a href="#定义" class="header-anchor">#</a> 定义</h1> <p>BFC（Block Formatting Context）格式化上下文，是 Web 页面中盒模型布局的 CSS 渲染模式，指一个独立的渲染区域或者说是一个隔离的独立容器。</p> <h1 id="形成条件"><a href="#形成条件" class="header-anchor">#</a> 形成条件</h1> <ul><li>根元素（html）</li> <li>浮动元素（元素的 float 不是 none）</li> <li>绝对定位元素（元素的 position 为 absolute 或 fixed）</li> <li>行内块元素（元素的 display 为 inline-block）</li> <li>表格单元格（元素的 display 为 table-cell，HTML 表格单元格默认为该值）</li> <li>表格标题（元素的 display 为 table-caption，HTML 表格标题默认为该值）</li> <li>匿名表格单元格元素（元素的 display 为 table、table-row、 table-row-group、table-header-group、table-footer-group（分别是 HTML table、row、tbody、thead、tfoot 的默认属性）或 inline-table）</li> <li>overflow 值不为 visible 的块元素</li> <li>display 值为 flow-root 的元素</li> <li>contain 值为 layout、content 或 paint 的元素</li> <li>弹性元素（display 为 flex 或 inline-flex 元素的直接子元素）</li> <li>网格元素（display 为 grid 或 inline-grid 元素的直接子元素）</li> <li>多列容器（元素的 column-count 或 column-width 不为 auto，包括 column-count 为 1）</li> <li>column-span 为 all 的元素始终会创建一个新的 BFC，即使该元素没有包裹在一个多列容器中（标准变更，Chrome bug）。</li></ul> <h1 id="特性"><a href="#特性" class="header-anchor">#</a> 特性</h1> <ul><li>内部的 box 会在垂直方向上一个接一个的放置</li> <li>垂直方向上的距离由 margin 决定</li> <li>bfc 的区域不会与 float 的元素区域重叠</li> <li>计算 BFC 的高度时，浮动元素也参与计算</li> <li>BFC 就是页面上的一个独立容器，容器里面的字元素不会影响外面的元素</li></ul> <h1 id="🌰"><a href="#🌰" class="header-anchor">#</a> 🌰</h1> <h2 id="边距折叠"><a href="#边距折叠" class="header-anchor">#</a> 边距折叠</h2> <p>在常规文档流中，两个兄弟盒子之间的垂直距离是由他们的外边距所决定的，但不是他们的两个外边距之和，而是以较大的为准。</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token comment">// html</span>
 <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;container&quot;</span><span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;box1&quot;</span><span class="token operator">&gt;</span>box1<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;box2&quot;</span><span class="token operator">&gt;</span>box2<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
 <span class="token comment">// css</span>
 <span class="token punctuation">.</span>container <span class="token punctuation">{</span>
   width<span class="token operator">:</span> <span class="token number">200</span>px<span class="token punctuation">;</span>
   top<span class="token operator">:</span> <span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">;</span>
   background<span class="token operator">:</span> #e0e0e0<span class="token punctuation">;</span>
   position<span class="token operator">:</span> absolute<span class="token punctuation">;</span>
   left<span class="token operator">:</span> <span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">;</span>
   transform<span class="token operator">:</span> <span class="token function">translate</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token punctuation">.</span>box1 <span class="token punctuation">{</span>
     background<span class="token operator">:</span> #<span class="token number">73</span>de80<span class="token punctuation">;</span>
     margin<span class="token operator">-</span>bottom<span class="token operator">:</span> <span class="token number">20</span>px<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token punctuation">.</span>box2 <span class="token punctuation">{</span>
     background<span class="token operator">:</span> #ef5be2<span class="token punctuation">;</span>
     margin<span class="token operator">-</span>top<span class="token operator">:</span> <span class="token number">30</span>px<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/bfc_feature_2.a9d82cc0.png" alt="bfc_feature_2">
当 box1 或 box2 再处于另一个 BFC 中的时候，就可以边距不折叠。</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token comment">// html</span>
 <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;container&quot;</span><span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;box1&quot;</span><span class="token operator">&gt;</span>box1<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;wrapper&quot;</span><span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;box2&quot;</span><span class="token operator">&gt;</span>box2<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
 <span class="token comment">// css</span>
 <span class="token punctuation">.</span>container <span class="token punctuation">{</span>
   width<span class="token operator">:</span> <span class="token number">200</span>px<span class="token punctuation">;</span>
   top<span class="token operator">:</span> <span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">;</span>
   background<span class="token operator">:</span> #e0e0e0<span class="token punctuation">;</span>
   position<span class="token operator">:</span> absolute<span class="token punctuation">;</span>
   left<span class="token operator">:</span> <span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">;</span>
   transform<span class="token operator">:</span> <span class="token function">translate</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token punctuation">.</span>wrapper <span class="token punctuation">{</span>
     overflow<span class="token operator">:</span> hidden<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token punctuation">.</span>box1 <span class="token punctuation">{</span>
     background<span class="token operator">:</span> #<span class="token number">73</span>de80<span class="token punctuation">;</span>
     margin<span class="token operator">-</span>bottom<span class="token operator">:</span> <span class="token number">20</span>px<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token punctuation">.</span>box2 <span class="token punctuation">{</span>
     background<span class="token operator">:</span> #ef5be2<span class="token punctuation">;</span>
     margin<span class="token operator">-</span>top<span class="token operator">:</span> <span class="token number">30</span>px<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/bfc_feature_2.a9d82cc0.png" alt="bfc_feature_2_change"></p> <h2 id="高度塌陷"><a href="#高度塌陷" class="header-anchor">#</a> 高度塌陷</h2> <p>在使用浮动后，元素会脱离文档流，造成高度塌陷的问题
<img src="/assets/img/bfc_feature_2.a9d82cc0.png" alt="hight_collapse"></p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token comment">// html</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;container&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;box1&quot;</span><span class="token operator">&gt;</span>box1<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;box2&quot;</span><span class="token operator">&gt;</span>box2<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;box3&quot;</span><span class="token operator">&gt;</span>box3<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;box4&quot;</span><span class="token operator">&gt;</span>box4<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
 <span class="token comment">// css</span>
 <span class="token punctuation">.</span>container <span class="token punctuation">{</span>
  width<span class="token operator">:</span> <span class="token number">200</span>px<span class="token punctuation">;</span>
  top<span class="token operator">:</span> <span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">;</span>
  background<span class="token operator">:</span> #e0e0e0<span class="token punctuation">;</span>

  <span class="token punctuation">.</span>box1 <span class="token punctuation">{</span>
    background<span class="token operator">:</span> #<span class="token number">73</span>de80<span class="token punctuation">;</span>
    float<span class="token operator">:</span> left<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">.</span>box2 <span class="token punctuation">{</span>
    background<span class="token operator">:</span> #ef5be2<span class="token punctuation">;</span>
    position<span class="token operator">:</span> absolute<span class="token punctuation">;</span>
    float<span class="token operator">:</span> left<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">.</span>box3 <span class="token punctuation">{</span>
    background<span class="token operator">:</span> yellowgreen<span class="token punctuation">;</span>
    width<span class="token operator">:</span> <span class="token number">100</span>px<span class="token punctuation">;</span>
    float<span class="token operator">:</span> left<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">.</span>box4 <span class="token punctuation">{</span>
    background<span class="token operator">:</span> skyblue<span class="token punctuation">;</span>
    float<span class="token operator">:</span> left<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>想要解决该问题，可以在尾部添加一个元素，并设置 clear:both 属性，或者使用 br 标签和其自身的 html 属性（br 有 clear=“all | left | right | none” 属性），
但这些有违 结构与表现的分离，不推荐使用，
这时候可以在父元素创建 bfc 来闭合浮动，解决高度塌陷的问题。
<img src="/assets/img/bfc_feature_2.a9d82cc0.png" alt="hight_collapse_solve"></p> <h2 id="两栏布局"><a href="#两栏布局" class="header-anchor">#</a> 两栏布局</h2> <p>bfc 中有个特性<em>bfc 的区域不会与 float 的元素区域重叠</em> ，利用这一特性，我们可以实现一个两栏自适应布局</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
      <span class="token punctuation">.</span>left <span class="token punctuation">{</span>
        background<span class="token operator">:</span> #<span class="token number">73</span>de80<span class="token punctuation">;</span>
        float<span class="token operator">:</span> left<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token punctuation">.</span>right <span class="token punctuation">{</span>
        background<span class="token operator">:</span> #ef5be2<span class="token punctuation">;</span>
        overflow<span class="token operator">:</span> hidden<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;left&quot;</span><span class="token operator">&gt;</span>浮动<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;right&quot;</span><span class="token operator">&gt;</span>自适应<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre></div><p>在这一基础上加深一点，在给右侧加一个浮动区域，就可以实现常见的双飞翼布局。</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
      <span class="token punctuation">.</span>left <span class="token punctuation">{</span>
        background<span class="token operator">:</span> #<span class="token number">73</span>de80<span class="token punctuation">;</span>
        float<span class="token operator">:</span> left<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token punctuation">.</span>right <span class="token punctuation">{</span>
        background<span class="token operator">:</span> #ef5be2<span class="token punctuation">;</span>
        float<span class="token operator">:</span>right<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token punctuation">.</span>center<span class="token punctuation">{</span>
        background<span class="token operator">:</span>black<span class="token punctuation">;</span>
        overflow<span class="token operator">:</span> hidden<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;left&quot;</span><span class="token operator">&gt;</span>浮动<span class="token operator">-</span>左<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;right&quot;</span><span class="token operator">&gt;</span>浮动<span class="token operator">-</span>右<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;center&quot;</span><span class="token operator">&gt;</span>自适应<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre></div><p>这里注意，不要把 right 放在 center 后面，不然 right 会被挤下去。
原因是因为<em>bfc 的区域不会与 float 的元素区域重叠</em>，center 只会受到 left 的影响，因此会铺满右边，right 被挤到下一行</p> <h1 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h1> <p>bfc 是页面 CSS 视觉渲染的一部分，用于决定块盒子的布局及浮动相互影响范围的一个区域。巧妙的利用 bfc，可以解决许多布局、定位等问题。</p> <!----></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/tools/组件替换工具.html" class="prev">
        组件替换工具
      </a></span> <span class="next"><a href="/algorithm/2020-05/2020-05-11.html">
        2020/5/11 No.50 Pow(x,n)
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.251be91f.js" defer></script><script src="/assets/js/3.c83a7086.js" defer></script><script src="/assets/js/10.9b4b1c5b.js" defer></script>
  </body>
</html>
